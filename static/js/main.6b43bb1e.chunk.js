(this["webpackJsonpuse-interaction"]=this["webpackJsonpuse-interaction"]||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},25:function(e,t,n){e.exports=n(41)},30:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),l=n.n(o),c=(n(30),n(1)),i=n(52),u=n(53),s=n(54),m=n(55),d=n(9),f=n(10),h=n(7),p=n(2),b=n.n(p),E=n(18),v=function(e){return e.keyCode?e.keyCode:e.which},w=function(e){return e.target||e.srcElement},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initial,n=void 0===t?null:t,r=e.debug,o=void 0!==r&&r,l="string"===typeof n&&["touch","mouse","keyboard"].includes(n)?n:null,i=Object(a.useState)(l),u=Object(c.a)(i,2),s=u[0],m=u[1],d=Object(a.useState)(null),p=Object(c.a)(d,2),b=p[0],g=p[1],y=Object(a.useState)([]),k=Object(c.a)(y,2),O=k[0],j=k[1],S=Object(a.useState)(null),x=Object(c.a)(S,2),L=x[0],C=x[1],M=Object(a.useState)({touchStart:null,mouseMove:null,wheel:null,keyDown:null}),N=Object(c.a)(M,2),D=N[0],z=N[1],I=["input","select","textarea"],T={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow"},_=Object(a.useCallback)((function(e){g(s),m(e)}),[s]),B=Object(a.useCallback)((function(e){o&&console.log(e.type,e,D),z((function(e){return Object(h.a)({},e,{touchStart:!0,mouseMove:!1,wheel:!1})})),"touch"!==s&&_("touch")}),[o,D,s,_]),R=Object(a.useCallback)((function(e){o&&console.log(e.type,e,D),D.touchStart||z((function(t){return Object(h.a)({},t,{},"mousemove"===e.type&&{mouseMove:!0},{},"wheel"===e.type&&{wheel:!0})})),D.keyDown&&z((function(e){return Object(h.a)({},e,{mouseMove:!1})})),z((function(e){return Object(h.a)({},e,{touchStart:!1,keyDown:!1})})),"mouse"!==s&&(null!==D.mouseMove&&!0!==D.mouseMove&&!1!==D.touchStart||_("mouse"))}),[o,D,s,_]),F=Object(a.useCallback)((function(e){if(o&&console.log(e.type,e,D),Object.prototype.hasOwnProperty.call(T,v(e))){if("tab"!==T[v(e)]&&I.indexOf(w(e).nodeName.toLowerCase())>=0)return;if(z((function(e){return Object(h.a)({},e,{keyDown:!0,touchStart:!1,mouseMove:!1,wheel:!1})})),"keyboard"===s)return;C(null),_("keyboard")}}),[o,D,T,I,s,_]),H=Object(a.useCallback)((function(e){o&&console.log(e.type,e,D);var t=Object(E.round)(e.height,1);(t>L||O[O.length-1]!==e.pointerType)&&C(t)}),[o,D,L,O]);return Object(a.useEffect)((function(){return window.addEventListener("touchstart",B,!1),window.addEventListener("keydown",F,!1),window.addEventListener("pointerdown",H,!1),function(){window.removeEventListener("touchstart",B,!1),window.removeEventListener("keydown",F,!1),window.removeEventListener("pointerdown",H,!1)}}),[F,H,B]),Object(a.useEffect)((function(){return!0===D.mouseMove||!0===D.wheel?(window.removeEventListener("mousemove",R,!1),window.removeEventListener("wheel",R,!1)):(window.addEventListener("mousemove",R,!1),window.addEventListener("wheel",R,!1)),function(){window.removeEventListener("mousemove",R,!1),window.removeEventListener("wheel",R,!1)}}),[D.mouseMove,D.wheel,R]),Object(a.useEffect)((function(){s&&j((function(e){return[].concat(Object(f.a)(e),[b]).reduce((function(e,t){return null!==t&&t!==s&&e.unshift(t),e}),[])}))}),[s,b]),[s,O,L]};g.propTypes={initialHover:b.a.boolean,debug:b.a.boolean};var y=g,k=n(19),O=n.n(k),j=(n(37),n(38),n(12)),S=n(13);function x(){var e=Object(j.a)(["\n  height: ",";\n  transition: height 0.3s ease;\n\n  ","\n"]);return x=function(){return e},e}function L(){var e=Object(j.a)(["\n  ","\n"]);return L=function(){return e},e}var C={Demo:S.a.div(L(),(function(e){return"keyboard"===e.pointer?"\n      *:focus {\n        outline: 2px solid #61dafb;\n        outline-offset: -1px;\n      }\n\n      a:focus {\n        outline: none;\n        color: #61dafb;\n        padding: 0.1rem 0.3rem;\n        margin: 0 -0.3rem;\n      }\n      ":"\n      *:focus {\n        outline: none;\n      }\n  "})),Figure:S.a.figure(x(),(function(e){var t=e.pointer,n=e.size;return"mouse"===t?"".concat(n[0],"px"):"".concat(n[0]+n[1],"px")||!1}),(function(e){return"mouse"===e.pointer?"\n      &{\n        img {\n          transform: translate3d(0, 0, 0);\n          transition: transform 0.3s ease;\n        }\n        figcaption {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          transform: translate3d(0, 144px, 0);\n          transition: transform 0.3s ease;\n        }\n\n        &:hover {\n          figcaption {\n            transform: translate3d(0, 0, 0);\n            transition: transform 0.3s ease;\n          }\n          img {\n            transform: translate3d(0, -144px, 0);\n          }\n        }\n      }\n    ":"\n      figcaption {\n        transform: translate3d(0, 0, 0);\n        position: relative;\n        bottom: auto;\n        left: auto;\n        height: auto;\n      }\n  "}))},M=function(e){var t=e.location,n=y({initial:null,debug:!0}),o=Object(c.a)(n,3),l=o[0],f=o[1],h=o[2],p=Object(a.useState)(!1),b=Object(c.a)(p,2),E=b[0],v=b[1],w=Object(a.useState)(null),g=Object(c.a)(w,2),k=g[0],j=g[1],S=Object(a.useState)(null),x=Object(c.a)(S,2),L=x[0],M=x[1],N=Object(a.useRef)(null),D=Object(a.useRef)(null),z=function(){j(N.current.offsetHeight),M(D.current.offsetHeight)};Object(a.useLayoutEffect)((function(){var e=new Image;return e.src=N.current.src,e.onload=function(){console.log(e.height),j(e.height)},z(),window.addEventListener("resize",z),function(){return window.removeEventListener("resize",z)}}),[]);var I=function(e){"mouse"===l&&v((function(e){return!e}))};return r.a.createElement(C.Demo,{className:"Demo",pointer:l,"data-user-interaction":l,"data-user-can-hover":"mouse"===l},r.a.createElement("header",null,r.a.createElement("img",{src:O.a,className:"React-logo",alt:"logo"}),r.a.createElement("h1",{onClick:function(){alert("navigated"),Object(d.b)(t.pathname,{state:{page:{}},replace:!0})}},"useInteraction")),r.a.createElement("main",null,r.a.createElement("h3",null,"React hook ",r.a.createElement("code",null,"useInteraction()")," allows to get the user interaction type: ",r.a.createElement("code",null,"touch"),", ",r.a.createElement("code",null,"mouse")," or"," ",r.a.createElement("code",null,"keyboard"),".",r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("code",{className:"variable"},"pointerType"))," ","provides the current input of the user interaction.",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("strong",null,r.a.createElement("code",{className:"variable"},"pointerHistory"))," ","keeps a record of previous inputs of the user interaction listed in reverse chronological order.",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("strong",null,r.a.createElement("code",{className:"variable"},"pointerAccuracy"))," ","is the max size of contact geometry collected from the current pointer.",r.a.createElement("br",null),"[Experimental Feature]"," ",r.a.createElement("i",null,"Not all browsers yet support"," ",r.a.createElement("a",{href:"https://caniuse.com/#feat=pointer",target:"_blank",rel:"noopener noreferrer"},"Pointer events"))),r.a.createElement("section",{id:"image"},r.a.createElement("h2",null,"detect hover capability"),r.a.createElement("div",null,r.a.createElement(i.a,null)," ",r.a.createElement(u.a,null)," ",r.a.createElement(s.a,null),r.a.createElement("br",null),r.a.createElement("span",null,"switching between ",r.a.createElement("code",null,"mouse"),"/",r.a.createElement("code",null,"touch")," or"," ",r.a.createElement("code",null,"mouse"),"/",r.a.createElement("code",null,"keyboard")," will show/hide the figure caption"),r.a.createElement("br",null),r.a.createElement(i.a,null)," ",r.a.createElement(u.a,null)," ",r.a.createElement(m.a,null)),r.a.createElement(C.Figure,{pointer:l,size:[k,L]},r.a.createElement("a",{href:"https://flic.kr/p/kq58ST",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{ref:N,src:"https://farm8.staticflickr.com/7353/12743181443_9dfd24a886_z.jpg",alt:"Beautiful light"})),r.a.createElement("figcaption",{ref:D},r.a.createElement("h3",null,r.a.createElement("a",{href:"https://flic.kr/p/kq58ST",target:"_blank",rel:"noopener noreferrer"},"Beautiful light")," ","(CC BY-NC-ND 2.0)"),r.a.createElement("small",null,"by"," ",r.a.createElement("a",{href:"https://www.flickr.com/people/rfunnell/",target:"_blank",rel:"noopener noreferrer"},"Ross Funnell")),r.a.createElement("p",{className:"description"},"The room was vacant except for a metal slab that served as a bed and the six-legged, cat-like creature sitting on the edge of the bed watching its sleeping occupant."))),r.a.createElement("h3",null,"It can be used to present to the user actions and information behind hover states; in place of the hover CSS media feature"," ",r.a.createElement("code",null,"@media (hover: hover)"),", not supported by all browsers.")),r.a.createElement("section",{id:"form"},r.a.createElement("h2",null,"detect keyboard navigation"),r.a.createElement("div",null,r.a.createElement(i.a,null)," ",r.a.createElement(u.a,null)," ",r.a.createElement(m.a,null),r.a.createElement("br",null),r.a.createElement("span",null,"switching between ",r.a.createElement("code",null,"mouse"),"/",r.a.createElement("code",null,"keyboard")," will show/hide an outline around the focused element")),r.a.createElement("form",null,r.a.createElement("input",{type:"text"}),r.a.createElement("select",null,r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1")),r.a.createElement("textarea",null),r.a.createElement("div",null,E?"hovered":"-"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),alert("clicked")},onMouseEnter:I,onMouseLeave:I},"OKAY")),r.a.createElement("h3",null,"It can also help to provide the keyboard users with a visual indicator of the element (link, button, and form control) that currently has focus.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",null,"Keyboard strokes has no effect on the interaction type when the user is typing in a form element (input, select, and textarea). Only keyboard navigation is monitored.")))),r.a.createElement("footer",null,r.a.createElement("code",null,"pointer: ",l||"none",r.a.createElement("br",null),"history: ","[".concat(f.join(", "),"]"),r.a.createElement("br",null),"can hover: ",("mouse"===l).toString(),r.a.createElement("br",null),"accuracy: ",h||"none")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(d.a,null,(function(e){var t=e.location;return r.a.createElement(M,{location:t})})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6b43bb1e.chunk.js.map